<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scratch Code Generator</title>
<style>
body {
  background: #000;
  color: #ffd700;
  font-family: Arial;
  padding: 30px;
  text-align: center;
}
.box {
  max-width: 500px;
  margin: auto;
  padding: 25px;
  border-radius: 15px;
  border: 2px solid #ffd700;
  background: #111;
  box-shadow: 0 0 20px #ffcc00;
}
input, button {
  padding: 12px;
  margin: 8px;
  border-radius: 8px;
  border: none;
  font-size: 16px;
}
input {
  width: 80%;
  background: #000;
  color: #ffd700;
  border: 1px solid #ffd700;
}
button {
  cursor: pointer;
  background: #ffd700;
  color: #000;
  font-weight: bold;
}
textarea {
  width: 100%;
  height: 200px;
  margin-top: 20px;
  background: #000;
  color: #ffd700;
  border: 1px solid #ffd700;
  border-radius: 10px;
  padding: 12px;
}
</style>
</head>
<body>

<div class="box">
  <h2>Scratch Event â€“ JSON Code Generator</h2>

  <input type="number" id="amount" placeholder="Generate berapa kode?">
  <br>
  <button onclick="generateCodes()">Generate Auto Code</button>
  <br><br>

  <input type="text" id="manualCode" placeholder="Tambah kode manual (misal: SCR999)">
  <button onclick="addManual()">Tambah</button>

  <textarea id="output" placeholder="Hasil JSON muncul di sini..."></textarea>

  <br>
  <button onclick="downloadJSON()">Download JSON</button>
</div>

<script>
let list = [];

// AUTO GENERATOR
function generateCodes() {
  const amount = parseInt(document.getElementById("amount").value);
  if (!amount || amount < 1) {
    alert("Masukkan jumlah valid!");
    return;
  }

  list = [];
  for (let i = 1; i <= amount; i++) {
    const code = "SCR" + String(i).padStart(3, "0");
    list.push({ code: code, used: false });
  }

  updateOutput();
}

// TAMBAH MANUAL
function addManual() {
  const code = document.getElementById("manualCode").value.trim().toUpperCase();
  if (!code) {
    alert("Masukkan kode manual!");
    return;
  }

  list.push({ code: code, used: false });
  document.getElementById("manualCode").value = "";
  updateOutput();
}

// UPDATE TEXTAREA
function updateOutput() {
  document.getElementById("output").value = JSON.stringify(list, null, 2);
}

// DOWNLOAD JSON
function downloadJSON() {
  const data = document.getElementById("output").value;
  const blob = new Blob([data], { type: "application/json" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "scratch_codes.json";
  link.click();
}
</script>

</body>
</html>
